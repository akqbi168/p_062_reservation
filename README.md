# スケジュール管理アプリ手引き書

## 基本仕様

・借りたい物件を検索できます（エリア、物件名、フリーワード）。（要件1つ目/5つ中）  
　チェックイン、アウト日を入れると対象日に空いている物件を表示します。  
・ユーザー登録ができ、名前、アイコン、自己紹介を設定できます。（要件2つ目/5つ中）   
・新規物件の登録ができます。価格、住所、価格、紹介文（要件3つ目/5つ中）  
・借りたい物件を予約できます。（要件4つ目/5つ中）  
・予約履歴の参照ができます。（要件5つ目/5つ中）  

## 追加仕様／工夫点

・日づけの設定は別モデルにし、gem 'cocoon'による動的フォームの追加のほか、ボタン一つで予約可能日を追加できる仕様にしました。  
・物件ごとに「価格変動制」を適用すると、曜日によって価格が自動で変わります。  
　（本来は需要を考慮した値段設定をしたく、同じ都市での残り物件数からアルゴリズムを・・・などと考えたのですが、開発時間との兼ね合いや過去事例などデータの少なさから諦めました）   
・物件の画像はメイン画像のほか、サブ画像を複数枚設定できるようにしました。  
・宿泊後は物件の評価や口コミ投稿が可能です。また、投稿された口コミは物件所有者が非表示にすることもできます。  

## 反省
#### 1-1. 欠陥
  予約のうち日付ごとの金額が分からない（予約の総額は分かる）  
#### 1-2. 改善
  reservation has_many reserved_items  
  のように新たなモデルに予約時の料金を記録する  
  （サイトのほぼ全域に渡ってコードを書き直す必要がありそうでなので、次の課題に進むことを優先すべきと判断しました。）  

#### 2-1. 設計の甘さ
  制作途中での仕様変更が相次ぎ、コードの煩雑さや制作時間の長さにつながった  
#### 2-2. 改善
  こればかりは経験を積むしかないと思います。できることが分かっていれば当初の設計に反映できると思うので  
  あとは落とし所をつけること。必要最低限のみを開発するか、改良策を考えるか、とそのバランス  

## 所感
  コードを書き始める前にDBやモデルなど設計を一通り行うも、実際に作ってみると間違っていたり、より良い方法を思いついてしまったりして後から変更することが多くありました。たくさん調べ、それを取り入れたので若干コードがどうなのか・・・という部分は自信ないですが、経験という意味では良かったと思います。   

以上、ご確認よろしくお願いいたします。
